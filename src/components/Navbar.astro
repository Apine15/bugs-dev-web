---
const navItems = [
  { name: "Inicio", url: "/" },
  { name: "Servicios", url: "#servicios" },
  { name: "Portfolio", url: "#portfolio" },
  { name: "Contacto", url: "#contacto" },
];
---

<nav class="w-full py-4 px-6 md:px-12 sticky top-0 z-50 bg-brand-bg/80 backdrop-blur-md border-b border-white/5">
  <div class="max-w-7xl mx-auto flex justify-between items-center">
    
    <a href="/" class="text-2xl font-bold tracking-tighter z-50 relative">
      Bugs <span class="text-brand-lime">Dev</span>
    </a>

    <ul class="hidden md:flex gap-8 font-medium items-center">
      {navItems.map((item) => (
        <li>
          <a href={item.url} class="hover:text-brand-lime transition-colors duration-300 text-sm uppercase tracking-wide">
            {item.name}
          </a>
        </li>
      ))}
      <li>
        <a href="#contacto" class="bg-brand-crimson text-white px-5 py-2 rounded-md font-bold text-sm hover:brightness-110 transition shadow-lg shadow-brand-crimson/20">
          Hablemos
        </a>
      </li>
    </ul>

    <button id="menu-btn" class="md:hidden z-50 text-white focus:outline-none cursor-pointer">
      <svg id="icon-menu" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
      </svg>
      <svg id="icon-close" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>

  </div>
</nav>

<div 
    id="mobile-menu" 
    class="fixed inset-0 bg-black z-40 flex flex-col items-center justify-center space-y-8 translate-x-full transition-transform duration-300 md:hidden h-[100dvh] w-screen"
  >
    {navItems.map((item) => (
      <a 
        href={item.url} 
        class="mobile-link text-2xl font-bold hover:text-brand-lime transition-colors"
      >
        {item.name}
      </a>
    ))}
    
    <a href="#contacto" class="mobile-link bg-brand-crimson text-white px-8 py-3 rounded-lg font-bold text-xl hover:brightness-110 transition shadow-lg shadow-brand-crimson/20 mt-4">
      Hablemos
    </a>
  </div>

<script>
  // Lógica para abrir/cerrar el menú
  const menuBtn = document.getElementById('menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const iconMenu = document.getElementById('icon-menu');
  const iconClose = document.getElementById('icon-close');
  const mobileLinks = document.querySelectorAll('.mobile-link');

  if (menuBtn && mobileMenu && iconMenu && iconClose) {
    
    menuBtn.addEventListener('click', () => {
      // 1. Alternar visibilidad del menú (quitando/poniendo la clase que lo esconde)
      mobileMenu.classList.toggle('translate-x-full');
      
      // 2. Alternar íconos (Hamburguesa vs X)
      iconMenu.classList.toggle('hidden');
      iconClose.classList.toggle('hidden');
      
      // 3. Bloquear scroll del body cuando el menú está abierto
      document.body.classList.toggle('overflow-hidden');
    });

    // Cerrar el menú automáticamente al hacer clic en un enlace
    mobileLinks.forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('translate-x-full'); // Esconder menú
        iconMenu.classList.remove('hidden'); // Mostrar hamburguesa
        iconClose.classList.add('hidden'); // Ocultar X
        document.body.classList.remove('overflow-hidden'); // Permitir scroll
      });
    });

  }
</script>